{
  "name": "Enforce-Mand-Tags-PSD",
  "type": "Microsoft.Authorization/policySetDefinitions",
  "apiVersion": "2021-06-01",
  "scope": null,
  "properties": {
    "policyType": "Custom",
    "displayName": "Ensure mandatory tagging is applied to both Resources and Resource Groups",
    "description": "Contains the core tagging policies applicable to the org",
    "metadata": {
      "version": "1.0.0",
      "category": "General"
    },
    "parameters": {
      "EnforceRGTags-owner": {
          "type": "String",
          "metadata": {
            "displayName": "owner",
            "description": "Specifies the owner of the Resource Group"
          }
      },
      "EnforceRGTags-department": {
          "type": "String",
          "metadata": {
            "displayName": "department",
            "description": "Specifies the department that the Resource Group belongs to"
          }
      },
      "EnforceResourceTags-owner": {
          "type": "String",
          "metadata": {
            "displayName": "owner",
            "description": "Specifies the owner of the resource"
          }
      },
      "EnforceResourceTags-department": {
          "type": "String",
          "metadata": {
            "displayName": "department",
            "description": "Specifies the department that the resource belongs to"
          }
      },
      "EnforceResourceTags-project": {
          "type": "String",
          "metadata": {
            "displayName": "project",
            "description": "Specifies the project that the resource belongs to"
          }
      },
      "EnforceRGTags-project": {
          "type": "String",
          "metadata": {
            "displayName": "project",
            "description": "Specifies the department that the Resource Group belongs to"
          }
      },
      "EnforceResourceTags-team": {
          "type": "String",
          "metadata": {
            "displayName": "team",
            "description": "Specifies the team that the resource belongs to"
          }
      },
      "EnforceRGTags-team": {
          "type": "String",
          "metadata": {
            "displayName": "team",
            "description": "Specifies the team that the Resource Group belongs to"
          }
      },
      "EnforceResourceTags-environment": {
          "type": "String",
          "metadata": {
            "displayName": "environment",
            "description": "Specifies the environment that the resource belongs to"
          }
      },
      "EnforceRGTags-environment": {
          "type": "String",
          "metadata": {
            "displayName": "environment",
            "description": "Specifies the environment that the Resource Group belongs to"
          }
      },
      "EnforceResourceTags-originalrqco": {
          "type": "String",
          "metadata": {
            "displayName": "originalrqco",
            "description": "Specifies the originalrqco that the resource belongs to"
          }
      },
      "EnforceRGTags-originalrqco": {
          "type": "String",
          "metadata": {
            "displayName": "originalrqco",
            "description": "Specifies the originalrqco that the Resource Group belongs to"
          }
      },
      "EnforceResourceTags-managedbyterraform": {
          "type": "String",
          "metadata": {
            "displayName": "managedbyterraform",
            "description": "Specifies the ManageByTerraform that the resource belongs to"
          }
      },
      "EnforceRGTags-managedbyterraform": {
          "type": "String",
          "metadata": {
            "displayName": "managedbyterraform",
            "description": "Specifies the ManageByTerraform that the Resource Group belongs to"
          }
      },
      "EnforceRGTags-createdby": {
          "type": "String",
          "metadata": {
            "displayName": "createdby",
            "description": "Specifies the createdby that the Resource Group belongs to"
          }
      },
      "EnforceResourceTags-createdby": {
          "type": "String",
          "metadata": {
            "displayName": "createdby",
            "description": "Specifies the createdby that the resource belongs to"
          }
      },
      "EnforceRGTags-createdon": {
          "type": "String",
          "metadata": {
            "displayName": "createdon",
            "description": "Specifies the Create Date for the Resource Group"
          }
      },
      "EnforceResourceTags-createdon": {
          "type": "String",
          "metadata": {
            "displayName": "createdon",
            "description": "Specifies the Create Date for the resource"
          }
      }
    },
    "policyDefinitions": [
      {
        "policyDefinitionReferenceId": "Resource groups must have mandatory tagging applied",
        "policyDefinitionId": "${root_scope_resource_id}/providers/Microsoft.Authorization/policyDefinitions/Enforce-RG-Tags-PD",
        "parameters": {
          "owner": {
            "value": "[parameters('EnforceRGTags-owner')]"
          },
          "department": {
            "value": "[parameters('EnforceRGTags-department')]"
          },
          "project": {
            "value": "[parameters('EnforceRGTags-project')]"
          },
          "team": {
            "value": "[parameters('EnforceRGTags-team')]"
          },
          "environment": {
            "value": "[parameters('EnforceRGTags-environment')]"
          },
          "originalrqco": {
            "value": "[parameters('EnforceRGTags-originalrqco')]"
          },
          "managedbyterraform": {
            "value": "[parameters('EnforceRGTags-managedbyterraform')]"
          },
          "createdby": {
            "value": "[parameters('EnforceRGTags-createdby')]"
          },
          "createdon": {
            "value": "[parameters('EnforceRGTags-createdon')]"
          }
        },
        "groupNames": []
      },
      {
        "policyDefinitionReferenceId": "Resources must have mandatory tagging applied",
        "policyDefinitionId": "${root_scope_resource_id}/providers/Microsoft.Authorization/policyDefinitions/Enforce-Resource-Tags-PD",
        "parameters": {
          "owner": {
            "value": "[parameters('EnforceResourceTags-owner')]"
          },
          "department": {
            "value": "[parameters('EnforceResourceTags-department')]"
          },
          "project": {
            "value": "[parameters('EnforceResourceTags-project')]"
          },
          "team": {
            "value": "[parameters('EnforceResourceTags-team')]"
          },
          "environment": {
            "value": "[parameters('EnforceResourceTags-environment')]"
          },
          "originalrqco": {
            "value": "[parameters('EnforceResourceTags-originalrqco')]"
          },
          "managedbyterraform": {
            "value": "[parameters('EnforceResourceTags-managedbyterraform')]"
          },
          "createdby": {
            "value": "[parameters('EnforceResourceTags-createdby')]"
          },
          "createdon": {
            "value": "[parameters('EnforceResourceTags-createdon')]"
          }
        },
        "groupNames": []
      }
    ],
    "policyDefinitionGroups": null
  }
}